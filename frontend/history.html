<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>History - Ally</title>
    <meta property="og:title" content="Your Meeting History with Ally" />
    <meta
      property="og:description"
      content="View a chronological record of your past activities with Ally."
    />
    <meta
      property="og:image"
      content="https://ally-frontend-vw00.onrender.com/img/ally.png"
    />
    <meta
      property="og:url"
      content="https://ally-frontend-vw00.onrender.com/history.html"
    />
    <meta property="og:type" content="website" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/history.css" />
    <link rel="icon" type="image/png" sizes="32x32" href="img/3d.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="img/3d1.png" />
  </head>
  <body class="bg-slate-50 text-slate-800">
    <div class="flex h-screen overflow-hidden">
      <aside
        id="mobile-menu"
        class="fixed lg:relative inset-y-0 left-0 transform -translate-x-full lg:translate-x-0 z-30 lg:z-auto w-72 lg:w-80 bg-slate-50 border-r border-slate-200 flex flex-col h-full lg:min-h-0 h-dvh overflow-y-auto"
      >
        <div class="flex h-full flex-col justify-between p-4">
          <div class="flex flex-col gap-4">
            <h1
              id="welcome-message"
              class="ml-4 text-[#0d141c] text-base font-medium block"
            ></h1>
            <div id="sidebar-nav" class="flex flex-col gap-2 mt-8 lg:mt-0">
              <a
                href="/home.html"
                class="nav-link flex items-center gap-3 px-3 py-2"
                ><div class="text-[#0d141c]">
                  <img
                    src="/img/home.png"
                    alt="icon"
                    width="24"
                    height="24"
                    style="object-fit: contain"
                  />
                </div>
                <p class="text-[#0d141c] text-sm leading-normal">Home</p></a
              >

              <a
                href="/action.html"
                class="nav-link flex items-center gap-3 px-3 py-2"
                ><div class="text-[#0d141c]">
                  <img
                    src="/img/action.png"
                    alt="icon"
                    width="24"
                    height="24"
                    style="object-fit: contain"
                  />
                </div>
                <p class="text-[#0d141c] text-sm leading-normal">
                  Action Items
                </p></a
              >
              <a
                href="#"
                class="nav-link flex items-center gap-3 px-3 py-2 rounded-lg bg-[#e7edf4]"
                ><div class="text-[#0d141c]">
                  <img
                    src="/img/history.png"
                    alt="icon"
                    width="24"
                    height="24"
                    style="object-fit: contain"
                  />
                </div>
                <p class="text-[#0d141c] text-sm font-medium leading-normal">
                  History
                </p></a
              >
              <a
                href="/about.html"
                class="nav-link flex items-center gap-3 px-3 py-2"
                ><div class="text-[#0d141c]">
                  <img
                    src="/img/about.png"
                    alt="icon"
                    width="24"
                    height="24"
                    style="object-fit: contain"
                  />
                </div>
                <p class="text-[#0d141c] text-sm leading-normal">About</p></a
              >
            </div>
          </div>
          <div class="flex flex-col gap-2">
            <a
              href="index.html"
              id="logout-btn"
              class="nav-link flex items-center gap-3 px-3 py-2"
            >
              <div class="text-[#0d141c]">
                <img
                  src="/img/logout.png"
                  alt="icon"
                  width="24"
                  height="24"
                  style="object-fit: contain"
                />
              </div>
              <p class="text-[#0d141c] text-sm leading-normal">Logout</p>
            </a>
          </div>
        </div>
      </aside>

      <div
        id="overlay"
        class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden lg:hidden"
      ></div>

      <div class="flex-1 flex flex-col overflow-hidden">
        <header
          class="lg:hidden flex items-center justify-between p-4 bg-slate-100 border-b border-slate-200 sticky top-0 z-10"
        >
          <button id="menu-button" class="p-2">
            <img
              src="/img/list.png"
              alt="icon"
              width="24"
              height="24"
              style="object-fit: contain"
            />
          </button>
          <h1 id="mobile-header-title" class="text-xl font-semibold">
            History
          </h1>
          <div class="w-6"></div>
        </header>

        <main
          class="flex-1 overflow-x-hidden overflow-y-auto bg-slate-50 main-content"
        >
          <div class="container mx-auto px-6 py-8">
            <div class="flex justify-between items-center mb-6">
              <h2
                id="main-header-title"
                class="text-3xl font-bold text-slate-800 hidden lg:block"
              >
                History
              </h2>
            </div>
            <div class="mb-6">
              <p
                class="text-[#49739c] text-sm md:text-base md:text-center text-center leading-relaxed"
              >
                View a chronological record of your past activities
              </p>
            </div>

            <div id="history-list" class="space-y-6"></div>

            <div id="loading-spinner" class="text-center py-10">
              <div
                class="inline-block w-8 h-8 border-4 border-t-indigo-600 border-r-indigo-600 border-b-indigo-600 border-l-transparent rounded-full animate-spin"
              ></div>
              <p class="mt-2 text-slate-500">Loading History...</p>
            </div>

            <div id="empty-state" class="hidden text-center py-16">
              <img
                src="/img/memory.png"
                alt="icon"
                width="24"
                height="24"
                style="object-fit: contain"
                class="mx-auto"
              />
              <h3 class="mt-2 text-sm font-medium text-slate-900">
                No history found
              </h3>
              <p class="mt-1 text-sm" style="color: #64748b">
                Process a meeting to see its history here.
              </p>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script type="module" src="/scripts/history.js"></script>
  </body>
</html>
